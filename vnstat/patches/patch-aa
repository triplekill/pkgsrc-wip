$NetBSD$

--- src/misc.c.orig	2008-02-03 00:08:16.000000000 +0100
+++ src/misc.c
@@ -1,3 +1,6 @@
+#ifdef __NetBSD__
+#include <sys/statvfs.h>
+#endif
 #include "vnstat.h"
 #include "misc.h"
 
@@ -60,10 +63,14 @@ int kerneltest(void)
 
 int spacecheck(char *path)
 {
-	struct statfs buf;
 	uint64_t free;
-
+#ifdef __NetBSD__
+	struct statvfs buf;
+	if (statvfs(path, &buf)) {
+#else
+	struct statfs buf;
 	if (statfs(path, &buf)) {
+#endif
 		perror("Free diskspace check");
 		exit(1);
 	}
