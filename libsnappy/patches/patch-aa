$NetBSD$

--- ./snappy_unittest.cc.orig	2011-03-18 17:15:10.000000000 +0000
+++ ./snappy_unittest.cc
@@ -147,12 +147,13 @@ static bool Compress(const char* input, 
 #endif  // LZO_VERSION
 
 #ifdef LZF_VERSION
+#define LZF_STATE_ARG 0
     case LIBLZF: {
       compressed->resize(input_size - 1);
       int destlen = lzf_compress(input,
                                  input_size,
                                  string_as_array(compressed),
-                                 input_size - 1);
+                                 input_size - 1, NULL);
       if (destlen == 0) {
         // lzf *can* cause lots of blowup when compressing, so they
         // recommend to limit outsize to insize, and just not compress
