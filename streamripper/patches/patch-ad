$NetBSD$

--- lib/compat.h.orig	2004-04-05 06:25:34.000000000 +1000
+++ lib/compat.h
@@ -10,7 +10,11 @@
 #include <sys/stat.h>
 #include <unistd.h>
 #include <fcntl.h>
+#ifdef HAVE_SEMAPHORE_H
 #include <semaphore.h>
+#else
+#include <sys/sem.h>
+#endif
 #include <pthread.h>
 #endif
 
