$NetBSD$

--- src/sdlport/setup.cpp.orig	2008-03-02 19:42:24.000000000 +0000
+++ src/sdlport/setup.cpp
@@ -380,8 +380,14 @@ void setup( int argc, char **argv )
         // Check if we already have a savegame directory
         if( (fd = fopen( savedir, "r" )) == NULL )
         {
-            // FIXME: Add some error checking here
-            mkdir( savedir, S_IRUSR | S_IWUSR | S_IXUSR );
+
+	savedir[strlen(savedir) - 1] = '\0';
+	if (mkdir( savedir, S_IRUSR | S_IWUSR | S_IXUSR )) {
+	perror("Can't create savedir");
+	exit(1);
+	}
+	savedir[strlen(savedir)] = '/';
+
         }
         else
         {
