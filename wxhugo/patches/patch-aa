$NetBSD$

--- Makefile.orig	Thu Jan 15 19:23:19 2004
+++ Makefile
@@ -15,12 +15,12 @@
 # (The wxWindows file locations should really be taken from wx-config.)
 HUGOSOURCEDIR = ../source
 MIKMODINCLUDEDIR = /usr/local/include
-CXXINCLUDEDIR = /usr/include/g++-3
+#CXXINCLUDEDIR = /usr/include/g++-3
 
 # Libraries to be linked:
 # If a working libmikmod.so has been compiled on the runtime system
 # and the wxGTK library is installed:
-LDFLAGS = `wx-config --libs` -lgtk -lgdk -lmikmod
+LDFLAGS = `wx-config --libs` -lmikmod
 STATICLIBS =
 # Otherwise, use these LDFLAGS and STATICLIBS:
 #LDFLAGS = -lwx_gtk -lgtk -lgdk -lpthread -lmikmod
@@ -34,27 +34,28 @@ MYCODEDIR := .
 
 # Directories to search for header files
 
-SEARCHDIRS := -I- -I${MYCODEDIR} -I${HUGOSOURCEDIR} -I${MIKMODINCLUDEDIR} -I${CXXINCLUDEDIR}
+SEARCHDIRS := -I- -I${MYCODEDIR} -I${HUGOSOURCEDIR} -I${MIKMODINCLUDEDIR}
 
 # makemake variables
 
-LINKER       := gcc
+LINKER       := ${CC}
 DEPENDFLAGS  := ${SEARCHDIRS}
 TOUCHHEADERS := ${MYCODEDIR}/*.h
 
 # C
 
-CC     := gcc
+#CC     := gcc
 # Debugging:
 #CFLAGS  = ${DEPENDFLAGS} -D__WXGTK__ -DWXWINDOWS -DNO_WXCARET -fwritable-strings -fno-rtti -g3 -Wall `wx-config --cflags`
 # Release build:
-CFLAGS  = ${DEPENDFLAGS} -D__WXGTK__ -DWXWINDOWS -DNO_WXCARET -fwritable-strings -fno-rtti -O2 -Wall `wx-config --cflags`
+MY_CFLAGS  = ${DEPENDFLAGS} -D__WXGTK__ -DWXWINDOWS -DNO_WXCARET -fwritable-strings -fno-rtti -O2 -Wall `wx-config --cflags`
+CFLAGS+=${MY_CFLAGS}
 
 # C++
 
-CXX      := g++
+#CXX      := g++
 #CXXFLAGS  = ${DEPENDFLAGS}
-CXXFLAGS = ${CFLAGS}
+CXXFLAGS+=${MY_CFLAGS}
 
 %.o : %.cpp
 	${CXX} ${CPPFLAGS} -c $< ${CXXFLAGS}
@@ -133,31 +134,28 @@ jdepend:
 
 # DO NOT DELETE THIS LINE -- makemake depends on it.
 
-../source/he.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h /usr/include/ctype.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/time.h /usr/include/unistd.h
+../source/he.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h
 
-../source/hebuffer.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h /usr/include/ctype.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/time.h /usr/include/unistd.h
+../source/hebuffer.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h
 
-../source/heexpr.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h /usr/include/ctype.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/time.h /usr/include/unistd.h
+../source/heexpr.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h
 
-./hejpeg.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h ./hewx.h /usr/include/assert.h /usr/include/ctype.h /usr/include/dirent.h /usr/include/g++-3/iostream /usr/include/g++-3/iostream.h /usr/include/limits.h /usr/include/math.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/strings.h /usr/include/sys/types.h /usr/include/time.h /usr/include/unistd.h /usr/include/wchar.h /usr/include/wctype.h
+./hejpeg.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h ./hewx.h
 
-../source/hemisc.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h /usr/include/ctype.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/time.h /usr/include/unistd.h
+../source/hemisc.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h
 
-../source/heobject.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h /usr/include/ctype.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/time.h /usr/include/unistd.h
+../source/heobject.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h
 
-../source/heparse.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h /usr/include/ctype.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/time.h /usr/include/unistd.h
+../source/heparse.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h
 
-../source/heres.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h /usr/include/ctype.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/time.h /usr/include/unistd.h
+../source/heres.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h
 
-../source/herun.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h /usr/include/ctype.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/time.h /usr/include/unistd.h
+../source/herun.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h
 
-../source/heset.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h /usr/include/ctype.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/time.h /usr/include/unistd.h
+../source/heset.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h
 
-./hesound.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h ./hewx.h /usr/include/assert.h /usr/include/ctype.h /usr/include/dirent.h /usr/include/g++-3/iostream /usr/include/g++-3/iostream.h /usr/include/limits.h /usr/include/mikmod.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/strings.h /usr/include/sys/types.h /usr/include/time.h /usr/include/unistd.h /usr/include/wchar.h /usr/include/wctype.h 
+./hesound.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h ./hewx.h
 
-./hewx.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h ./hewx.h /usr/include/assert.h /usr/include/ctype.h /usr/include/dirent.h /usr/include/g++-3/iostream /usr/include/g++-3/iostream.h /usr/include/limits.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/strings.h /usr/include/sys/types.h /usr/include/time.h /usr/include/unistd.h /usr/include/wchar.h /usr/include/wctype.h 
-
-./hewxwin.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h ./hewx.h /usr/include/assert.h /usr/include/ctype.h /usr/include/dirent.h /usr/include/g++-3/iostream /usr/include/g++-3/iostream.h /usr/include/limits.h /usr/include/stdio.h /usr/include/stdlib.h /usr/include/string.h /usr/include/strings.h /usr/include/sys/types.h /usr/include/time.h /usr/include/unistd.h /usr/include/wchar.h /usr/include/wctype.h 
-
-../source/stringfn.o: /usr/include/ctype.h /usr/include/stdio.h /usr/include/string.h
+./hewx.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h ./hewx.h
 
+./hewxwin.o: ../source/hdinter.h ../source/heheader.h ../source/htokens.h ./hewx.h
