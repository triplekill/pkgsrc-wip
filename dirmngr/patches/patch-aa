$NetBSD$

--- configure.ac.orig	2004-09-28 06:20:54.000000000 -0600
+++ configure.ac
@@ -201,7 +201,7 @@ AC_ARG_WITH(ldap,
 
 if test "x$with_ldap" = "xCHECK" ; then
   with_ldap=NOTFOUND
-  search_incs="$kde_includes /usr/include /usr/local/include"
+  search_incs="$kde_includes /usr/include $LOCALBASE/include"
   AC_FIND_FILE(ldap.h, $search_incs, ldap_incdir)
   if test -r $ldap_incdir/ldap.h ; then
     test "x$ldap_incdir" != "x/usr/include" && LDAP_INCS="-I$ldap_incdir"
@@ -210,7 +210,7 @@ if test "x$with_ldap" = "xCHECK" ; then
   if test $with_ldap = FOUND ; then
     with_ldap=NOTFOUND
     for ext in la so sl a ; do
-      AC_FIND_FILE(libldap.$ext, /usr/lib /usr/local/lib,
+      AC_FIND_FILE(libldap.$ext, /usr/lib $LOCALBASE/lib,
         ldap_libdir)
       if test -r $ldap_libdir/libldap.$ext ; then
         if test "x$ldap_libdir" != "x/usr/lib" ; then
@@ -293,7 +293,8 @@ AC_SUBST(LDAP_SUBDIR)
 
 # Checks for header files.
 AC_HEADER_STDC
-AC_CHECK_HEADERS([string.h])
+AC_CHECK_HEADERS([locale.h string.h])
+
 
 
 # Checks for typedefs, structures, and compiler characteristics.
