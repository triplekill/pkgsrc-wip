$NetBSD$

--- src/osdep/network.c.orig	2008-06-09 21:55:09.000000000 +0200
+++ src/osdep/network.c
@@ -32,10 +32,24 @@
 
 #ifdef __MACH__ 
 #include <libkern/OSByteOrder.h>
-#else
+#elif defined(__linux__)
 #include <asm/byteorder.h>
+#else
+#include <sys/endian.h>
 #endif /* __MACH__ */
 
+#ifdef __NetBSD__
+#include <sys/types.h>
+#include <machine/bswap.h>
+#if BYTE_ORDER == BIG_ENDIAN
+#define __be64_to_cpu(x) (x)
+#define __be32_to_cpu(x) (x)
+#else
+#define __be64_to_cpu(x) bswap64(x)
+#define __be32_to_cpu(x) bswap32(x)
+#endif
+#endif
+
 #include "osdep.h"
 #include "network.h"
 
