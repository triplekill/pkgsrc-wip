$NetBSD: patch-aa,v 1.2 2003/04/28 15:39:05 pancake Exp $

*** Desk.cc	Sat Nov  9 19:06:16 2002
--- Desk2.cc	Sun Apr 27 15:44:47 2003
***************
*** 1,5 ****
  #include "Desk.h"
- 
    Desk::Desk() {
       Dpy  = XOpenDisplay( NULL );
       Root = DefaultRootWindow( Dpy );
--- 1,4 ----
***************
*** 119,125 ****
  
        DirName += "/.idesktop/";
        FileCount = scandir( DirName.c_str(), &Files, 0, alphasort );
! 
        for(int i=0; i<FileCount; i++) {
          FileName = DirName + Files[i]->d_name;
          IconDb = new Database(FileName);
--- 118,128 ----
  
        DirName += "/.idesktop/";
        FileCount = scandir( DirName.c_str(), &Files, 0, alphasort );
!       if( FileCount < 0  ) {
! 	      printf("No %s exist please create it and put your *.lnk files\n"
! 			      , DirName.c_str() );
! 	      exit(-1);
!       }
        for(int i=0; i<FileCount; i++) {
          FileName = DirName + Files[i]->d_name;
          IconDb = new Database(FileName);
