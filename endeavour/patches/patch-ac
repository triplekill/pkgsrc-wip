$NetBSD$

--- endeavour2/edvdevices.c.orig	2006-01-31 02:40:48.000000000 -0500
+++ endeavour2/edvdevices.c
@@ -6,6 +6,8 @@
 #elif defined(__SOLARIS__)
 # include <sys/vfs.h>
 # include <sys/statvfs.h>
+#elif defined(__NetBSD__)
+# include <sys/statvfs.h>
 #else
 # include <sys/vfs.h>
 #endif
@@ -355,7 +357,7 @@ void EDVDevicesListUpdateStats(
 {
 	gint i;
 	edv_device_struct *dev;
-#if defined(__SOLARIS__)
+#if defined(__SOLARIS__)||defined(__NetBSD__)
 	struct statvfs buf;
 #else
 	struct statfs buf;
@@ -377,7 +379,7 @@ void EDVDevicesListUpdateStats(
 	    if(EDV_DEVICE_IS_MOUNTED(dev))
 	    {
 		const gchar *mount_path = dev->mount_path;
-#if defined(__SOLARIS__)
+#if defined(__SOLARIS__)||defined(__NetBSD__)
 		if(!STRISEMPTY(mount_path) ?
 		    !statvfs(mount_path, &buf) : FALSE
 		)
