$NetBSD$

--- api/libsphinxclient/sphinxclient.c.orig	2009-11-13 23:23:06.000000000 +0000
+++ api/libsphinxclient/sphinxclient.c
@@ -20,6 +20,9 @@
 #include <stdarg.h>
 #include <stdio.h>
 #include <string.h>
+#include <sys/types.h>
+#include <unistd.h>
+#include <fcntl.h>
 
 #ifndef _WIN32
 #include "sphinxclient_config.h"
@@ -277,7 +280,14 @@ static void sphinx_free_results ( sphinx
 }
 
 
-void sock_close ( int sock );
+static void sock_close ( int sock )
+{
+#if _WIN32
+	closesocket ( sock );
+#else
+	close ( sock );
+#endif
+}
 
 void sphinx_destroy ( sphinx_client * client )
 {
@@ -1213,16 +1223,6 @@ static int sock_set_blocking ( int sock 
 }
 
 
-static void sock_close ( int sock )
-{
-#if _WIN32
-	closesocket ( sock );
-#else
-	close ( sock );
-#endif
-}
-
-
 // wrap FD_SET to prevent warnings on Windows
 #if _WIN32
 #pragma warning(disable:4127) // conditional expr is const
