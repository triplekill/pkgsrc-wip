$NetBSD$

--- configure.orig	2010-11-12 18:10:41.000000000 +0000
+++ configure
@@ -6181,7 +6181,7 @@ fi
 
 
 if test -n "$DtraceCmd"; then
-  if test "x$TargetOS_CPP-$TargetVendor_CPP" == "xdarwin-apple"; then
+  if test "x$TargetOS_CPP-$TargetVendor_CPP" = "xdarwin-apple"; then
     HaveDtrace=YES
   fi
 fi
@@ -6507,6 +6507,7 @@ $as_echo "$as_me: WARNING: cannot find h
 fi
 
 
+if test "$BootingFromHc" = "NO"; then
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ghc-pkg matching $WithGhc" >&5
 $as_echo_n "checking for ghc-pkg matching $WithGhc... " >&6; }
 if test "${fp_cv_matching_ghc_pkg+set}" = set; then :
@@ -6528,6 +6529,7 @@ fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $fp_cv_matching_ghc_pkg" >&5
 $as_echo "$fp_cv_matching_ghc_pkg" >&6; }
 GhcPkgCmd=$fp_cv_matching_ghc_pkg
+fi
 
 
 
