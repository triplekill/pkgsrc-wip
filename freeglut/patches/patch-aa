$NetBSD$

--- src/freeglut_joystick.c.orig	2003-09-22 06:49:36.000000000 +0200
+++ src/freeglut_joystick.c	2003-09-22 06:51:05.000000000 +0200
@@ -51,13 +51,18 @@
 #       define NEAR /* */
 #       define FAR  /* */
 #   endif
+#   include <sys/param.h>
 #   include <mmsystem.h>
 #   include <string.h>
 #else
 #   include <unistd.h>
 #   include <fcntl.h>
-#   ifdef __FreeBSD__
+#   ifdef __FreeBSD__ || defined(__NetBSD__)
+#   if __FreeBSD_version >= 500000
+#	include <sys/joystick.h>
+#   else
 #       include <machine/joystick.h>
+#   endif
 #       define JS_DATA_TYPE joystick
 #       define JS_RETURN (sizeof(struct JS_DATA_TYPE))
 #   elif defined(__linux__)
@@ -253,7 +258,7 @@
     }
 
     if( buttons )
-#       ifdef __FreeBSD__
+#       ifdef __FreeBSD__ || defined(__NetBSD__)
         *buttons = (joy->js.b1 ? 1 : 0) | (joy->js.b2 ? 2 : 0);
 #       else
         *buttons = joy->js.buttons;
