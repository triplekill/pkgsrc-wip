$NetBSD$

--- src/freeglut_joystick.c.orig	2003-10-07 18:23:14.000000000 +0200
+++ src/freeglut_joystick.c	2003-10-07 18:24:22.000000000 +0200
@@ -54,10 +54,15 @@
 #   include <mmsystem.h>
 #   include <string.h>
 #else
+#   include <sys/param.h>
 #   include <unistd.h>
 #   include <fcntl.h>
-#   ifdef __FreeBSD__
+#   ifdef __FreeBSD__ || defined(__NetBSD__)
+#   if __FreeBSD_version >= 500000
 #       include <sys/joystick.h>
+#   else
+#       include <machine/joystick.h>
+#   endif
 #       define JS_DATA_TYPE joystick
 #       define JS_RETURN (sizeof(struct JS_DATA_TYPE))
 #   elif defined(__linux__)
@@ -109,7 +114,7 @@
 typedef struct tagSFG_Joystick SFG_Joystick;
 struct tagSFG_Joystick
 {
-#ifdef __FreeBSD__
+#ifdef __FreeBSD__ || defined(__NetBSD__)
     int         id;
 #endif
 
@@ -253,7 +258,7 @@
     }
 
     if( buttons )
-#       ifdef __FreeBSD__
+#       ifdef __FreeBSD__ || defined(__NetBSD__)
         *buttons = (joy->js.b1 ? 1 : 0) | (joy->js.b2 ? 2 : 0);
 #       else
         *buttons = joy->js.buttons;
