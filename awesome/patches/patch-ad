$NetBSD$

--- common/backtrace.c.orig	2009-11-26 19:03:25.000000000 +0000
+++ common/backtrace.c
@@ -19,7 +19,9 @@
  *
  */
 
+#ifdef __linux__
 #include <execinfo.h>
+#endif
 #include "common/backtrace.h"
 
 #define MAX_STACK_SIZE 32
@@ -30,6 +32,7 @@
 void
 backtrace_get(buffer_t *buf)
 {
+#ifdef __linux__
     void *stack[MAX_STACK_SIZE];
     char **bt;
     int stack_size;
@@ -49,6 +52,9 @@ backtrace_get(buffer_t *buf)
         p_delete(&bt);
     }
     else
+#else
+    buffer_init(buf);
+#endif
         buffer_addsl(buf, "Cannot get backtrace symbols.");
 }
 
