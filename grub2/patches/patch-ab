$NetBSD$

--- util/deviceiter.c.orig	2009-11-09 16:48:16.000000000 +0100
+++ util/deviceiter.c
@@ -29,9 +29,6 @@
 #include <fcntl.h>
 #include <limits.h>
 
-#include <grub/util/misc.h>
-#include <grub/util/deviceiter.h>
-
 #ifdef __linux__
 # if !defined(__GLIBC__) || \
         ((__GLIBC__ < 2) || ((__GLIBC__ == 2) && (__GLIBC_MINOR__ < 1)))
@@ -135,6 +132,9 @@ have_devfs (void)
 }
 #endif /* __linux__ */
 
+#include <grub/util/misc.h>
+#include <grub/util/deviceiter.h>
+
 /* These three functions are quite different among OSes.  */
 static void
 get_floppy_disk_name (char *name, int unit)
