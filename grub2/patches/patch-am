$NetBSD$

--- kern/rescue.c.orig	2006-04-23 15:37:36.000000000 +0200
+++ kern/rescue.c
@@ -32,6 +32,15 @@
 #include <grub/env.h>
 #include <grub/parser.h>
 
+/*
+ * XXX: gcc on systems using non-executable mapping of stack generates
+ * reference to __enable_execute_stack() (libgcc)
+ * Probably there's better way to solve this, than such an ugly workaround.
+ */
+
+void __enable_execute_stack (void);
+void __enable_execute_stack (void) {}
+
 #define GRUB_RESCUE_BUF_SIZE	256
 #define GRUB_RESCUE_MAX_ARGS	20
 
