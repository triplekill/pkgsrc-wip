$NetBSD$

--- hotspot/src/os/bsd/vm/os_bsd.cpp.orig	2008-12-21 21:41:42.000000000 +0100
+++ hotspot/src/os/bsd/vm/os_bsd.cpp
@@ -62,7 +62,7 @@
 # include <link.h>
 #endif
 
-#if defined(__FreeBSD__)
+#if defined(__FreeBSD__) || defined(__NetBSD__)
 # include <elf.h>
 #endif
 
@@ -3243,6 +3243,9 @@ OSReturn os::set_native_priority(Thread*
 #ifdef __OpenBSD__
   // OpenBSD pthread_setprio starves low priority threads
   return OS_OK;
+#elif defined(__NetBSD__)
+  // XXX tnn fixme
+  return OS_OK;
 #elif defined(__FreeBSD__)
   int ret = pthread_setprio(thread->osthread()->pthread_id(), newpri);
 #elif defined(__APPLE__)
@@ -3273,6 +3276,10 @@ OSReturn os::get_native_priority(const T
   errno = 0;
 #if defined(__OpenBSD__) || defined(__FreeBSD__)
   *priority_ptr = pthread_getprio(thread->osthread()->pthread_id());
+#elif defined(__NetBSD__)
+  // XXX tnn fixme
+  *priority_ptr = java_to_os_priority[NormPriority];
+  return OS_OK;
 #elif defined(__APPLE__)
   int policy;
   struct sched_param sp;
