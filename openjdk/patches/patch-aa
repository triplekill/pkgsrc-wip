$NetBSD$

--- jdk/make/common/shared/Platform.gmk.orig	2009-09-24 22:52:54.000000000 +0200
+++ jdk/make/common/shared/Platform.gmk
@@ -287,11 +287,7 @@ ifeq ($(PLATFORM), bsd)
   #    a fully built workspace.
   REQUIRED_FREE_SPACE=1500000
   # How much RAM does this machine have:
-  ifeq ($(OS_VENDOR), OpenBSD)
-    MB_OF_MEMORY=$(shell sysctl -n hw.physmem | awk '{print int($$NF / 1048576); }' )
-  else
-    MB_OF_MEMORY=$(shell (sysctl -n hw.physmem64 2> /dev/null || sysctl -n hw.physmem) | awk '{print int($$NF / 1048576); }' )
-  endif
+  MB_OF_MEMORY=$(shell expr `sysctl hw.physmem | sed 's/[^0-9]//g'` / 1048576 )
 endif
 
 # Windows with and without CYGWIN will be slightly different
