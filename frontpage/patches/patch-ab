$NetBSD$

--- version5.0/apache-fp/fpexe.c.orig	Mon Apr 16 07:40:49 2001
+++ version5.0/apache-fp/fpexe.c
@@ -134,11 +134,11 @@ static struct SaveEnvVars
 #include <time.h>
 #include <pwd.h>
 #include <grp.h>
-#if !defined(bsdi) && !defined(hpux) && !defined(sun) && !defined(linux) && !defined(SCO5) && !defined(UWARE7) && !defined(FREEBSD)
+#if !defined(bsdi) && !defined(hpux) && !defined(sun) && !defined(linux) && !defined(SCO5) && !defined(UWARE7) && !defined(__FreeBSD__) && !defined(__NetBSD__)
 #include <sys/mode.h>
 #endif
 
-#if defined(sun) || defined(bsdi) || defined(sgi) || defined(SCO5) || defined(UWARE7) || defined(FREEBSD) || defined(linux)
+#if defined(sun) || defined(bsdi) || defined(sgi) || defined(SCO5) || defined(UWARE7) || defined(__FreeBSD__) || defined(linux) || defined(__NetBSD__)
 extern const char ** environ;
 #endif
 extern int errno;
@@ -162,10 +162,13 @@ extern int errno;
 
 #define KEYLEN 128                  /* Should be a multiple of sizeof(int) */
 
+#ifndef LOCALDIR
+#define LOCALDIR "/usr/local"
+#endif
 
-#define FPKEYDIR "/usr/local/frontpage/version5.0/apache-fp"
-#define KEYFILE  "/usr/local/frontpage/version5.0/apache-fp/suidkey.%d"
-#define FPDIR    "/usr/local/frontpage/version5.0/exes"
+#define FPKEYDIR LOCALDIR "/frontpage/version5.0/apache-fp"
+#define KEYFILE  LOCALDIR "/frontpage/version5.0/apache-fp/suidkey.%d"
+#define FPDIR    LOCALDIR "/frontpage/version5.0/exes"
 
 /* Legal modules */
 #define SHTML    "/_vti_bin/shtml.exe"
