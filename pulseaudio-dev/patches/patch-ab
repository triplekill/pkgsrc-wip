$NetBSD$

--- src/modules/module-detect.c.orig	2007-11-12 20:45:27.000000000 -0500
+++ src/modules/module-detect.c
@@ -124,8 +124,11 @@ static int detect_alsa(pa_core *c, int j
 static int detect_oss(pa_core *c, int just_one) {
     FILE *f;
     int n = 0, b = 0;
-
-    if (!(f = fopen("/dev/sndstat", "r")) &&
+#ifdef DEVOSSSNDSTAT
+    if  (!(f = fopen(DEVOSSSNDSTAT, "r")) &&
+#else
+    if	(!(f = fopen("/dev/sndstat", "r")) &&
+#endif
         !(f = fopen("/proc/sndstat", "r")) &&
         !(f = fopen("/proc/asound/oss/sndstat", "r"))) {
 
@@ -154,7 +157,11 @@ static int detect_oss(pa_core *c, int ju
 
         if (sscanf(line, "%u: ", &device) == 1) {
             if (device == 0)
+#ifdef DEVOSSSOUND
+                pa_snprintf(args, sizeof(args), "device=%s", DEVOSSSOUND);
+#else
                 pa_snprintf(args, sizeof(args), "device=/dev/dsp");
+#endif
             else
                 pa_snprintf(args, sizeof(args), "device=/dev/dsp%u", device);
 
@@ -188,7 +195,11 @@ static int detect_solaris(pa_core *c, in
 
     dev = getenv("AUDIODEV");
     if (!dev)
-        dev = "/dev/audio";
+#ifdef DEVSUNAUDIO 
+        dev = DEVSUNAUDIO;
+#else
+	dev = "/dev/audio";
+#endif
 
     if (stat(dev, &s) < 0) {
         if (errno != ENOENT)
