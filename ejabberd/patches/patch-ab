$NetBSD$

What is this for?

--- src/mod_last.erl.orig	2008-01-16 12:33:27.000000000 +0200
+++ src/mod_last.erl	2008-02-11 13:46:13.000000000 +0200
@@ -133,7 +133,16 @@
 		  sub_el = [{xmlelement, "query",
 			     [{"xmlns", ?NS_LAST},
 			      {"seconds", integer_to_list(Sec)}],
-			     [{xmlcdata, Status}]}]}
+			     [{xmlcdata, Status}]}]};
+	[{last_activity, _, TimeStamp}] ->
+	    {MegaSecs, Secs, _MicroSecs} = now(),
+	    TimeStamp2 = MegaSecs * 1000000 + Secs,
+	    Sec = TimeStamp2 - TimeStamp,
+	    IQ#iq{type = result,
+		  sub_el = [{xmlelement, "query",
+			     [{"xmlns", ?NS_LAST},
+			      {"seconds", integer_to_list(Sec)}],
+			     []}]}
     end.
 
 
