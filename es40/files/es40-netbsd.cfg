gui = sdl
{
  keyboard.use_mapping = false;
  keyboard.map = "keys.map";
}

sys0 = tsunami 
{
  rom.srm = "/usr/pkg/share/es40-firmware/cl67srmrom.exe"
  rom.decompressed = "decompressed.rom";
  rom.flash = "flash.rom";
  rom.dpr = "dpr.rom";

  // 2^26 = 64MB
  memory.bits = 26; 

  cpu0 = ev68cb
  {
    // XXX might need true?
    icache = false;
  }

  pci0.7 = ali
  {
    mouse.enabled = true;
    lpt.outfile = "lpt.out";
    vga_console = false;
  }

  pci0.19 = ali_usb {}

// "Free" PCI Devices
//
// These can occupy pci0.1 .. pci0.4 and pci1.1 .. pci1.6
//
// AFAIK, VGA should always be on pci0.x.

  pci0.2 = cirrus
  {
    rom = "/usr/pkg/share/es40/vgabios-0.6a.debug.bin";
  }

  pci0.3 = sym53c810
  {
   disk0.0 = file
    {
      file =          "dka0.img";
      read_only     = false;
      cdrom         = false;
      autocreate_size = 1024M;
    }
    disk0.4 = file
    {
      file =          "alphacd.iso";
      read_only     = true;
      cdrom         = true;
    }
  }

 // Network is not yet working ...
 // pci0.4 = dec21143 {
 //  adapter = "tap0";
    //mac = "08-00-2B-E5-40-00";
 //}

  serial0 = serial {

    // VARIABLE: port
    //
    // Determines which Telnet port is opened to receive connections for the emulated
    // serial port. The default is 8000 + the port number.

    port = 21264;
 
    // VARIABLE: action
    //
    // Defines the action to take for each serial port (= a telnet client). If you want
    // to connect manually, leave this out.

    action = "xterm -e telnet localhost 21264";
  }
}
