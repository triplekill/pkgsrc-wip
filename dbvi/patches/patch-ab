$NetBSD$

--- libol.c.orig	2004-09-25 04:17:05.000000000 +0200
+++ libol.c
@@ -51,12 +51,19 @@ The End
 #include <stdlib.h>
 #include <string.h>
 #include <sys/time.h>
+#if defined(__linux) || defined(__hpux)
 #include <sys/stropts.h>
+#endif
 #include <libgen.h>
 #ifdef __linux
 #include <asm/ioctls.h>
 #endif
 
+/* 4.4BSD */
+#ifndef SIGCLD
+#define SIGCLD SIGCHLD
+#endif
+
 static struct termios old_ti;
 struct winsize termSize;
 struct termios olTermInfo[NOFP];
@@ -619,7 +626,7 @@ int envc;
   checkError(
     (olSlave[nofp]=open(slavename,O_RDWR)),"Open slave pseudo terminal");
 
-#ifndef __linux
+#ifdef __hpux
     checkError(ioctl(olSlave[nofp],I_PUSH,"ptem"),"Push ptem");
 #ifdef _SEQUENT_
     checkError(ioctl(olSlave[nofp],I_PUSH,"ld"),"Push ld");
