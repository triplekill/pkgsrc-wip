$NetBSD$

--- xkb/xkbInit.c.orig	2007-08-23 15:04:55.000000000 -0400
+++ xkb/xkbInit.c
@@ -835,6 +835,14 @@ extern unsigned int	XkbDfltAccessXFeedba
 extern unsigned char	XkbDfltAccessXOptions;
 
 int
+xkbInitGlobals()
+{
+    char * xkbpath= getenv("XKBPATH");
+    if (xkbpath!=NULL)
+	XkbBaseDirectory= xkbpath;
+}
+
+int
 XkbProcessArguments(int argc,char *argv[],int i)
 {
     if (strcmp(argv[i],"-kb")==0) {
