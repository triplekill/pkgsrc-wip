$NetBSD$

--- tac_plus.c.orig	2000-12-18 17:58:02.000000000 +0100
+++ tac_plus.c	2006-12-04 20:41:04.000000000 +0100
@@ -116,7 +116,7 @@
 #ifdef REARMSIGNAL
     signal(SIGUSR1, handler);
     signal(SIGHUP, handler);
-#endif REARMSIGNAL
+#endif /* REARMSIGNAL */
 }
 
 /*
@@ -350,11 +350,11 @@
 
 #ifndef REAPCHILD
 
-#ifdef LINUX
+#if defined(LINUX) || defined(__sgi)
 	if (setpgrp() == -1)
-#else /* LINUX */
+#else /* LINUX or IRIX */
 	if (setpgrp(0, getpid()) == -1)
-#endif /* LINUX */
+#endif /* LINUX or IRIX */
 	    report(LOG_ERR, "Can't change process group");
 	
 	c = open("/dev/tty", O_RDWR);
