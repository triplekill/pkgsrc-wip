ebook-viewer dumps core for me:

#0  0x00007f7fe3dcfca0 in JSC::Yarr::checkSyntax(WTF::String const&) () from /usr/pkg/qt5/lib/libQt5Qml.so.5
#1  0x00007f7fd9c89d5c in JSC::SyntaxChecker::Expression JSC::Parser<JSC::Lexer<unsigned short> >::parseMemberExpression<JSC::SyntaxChecker>(JSC::SyntaxChecker&) () from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#2  0x00007f7fd9c8ceba in JSC::SyntaxChecker::Expression JSC::Parser<JSC::Lexer<unsigned short> >::parseAssignmentExpression<JSC::SyntaxChecker>(JSC::SyntaxChecker&) ()
   from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#3  0x00007f7fd9c8949b in JSC::SyntaxChecker::Expression JSC::Parser<JSC::Lexer<unsigned short> >::parseMemberExpression<JSC::SyntaxChecker>(JSC::SyntaxChecker&) () from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#4  0x00007f7fd9c8d8c8 in JSC::SyntaxChecker::Expression JSC::Parser<JSC::Lexer<unsigned short> >::parseAssignmentExpression<JSC::SyntaxChecker>(JSC::SyntaxChecker&) ()
   from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#5  0x00007f7fd9c8ec86 in JSC::SyntaxChecker::Expression JSC::Parser<JSC::Lexer<unsigned short> >::parseExpression<JSC::SyntaxChecker>(JSC::SyntaxChecker&) () from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#6  0x00007f7fd9ca7963 in JSC::SyntaxChecker::Statement JSC::Parser<JSC::Lexer<unsigned short> >::parseExpressionOrLabelStatement<JSC::SyntaxChecker>(JSC::SyntaxChecker&) ()
   from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#7  0x00007f7fd9c8fb4c in JSC::SyntaxChecker::Statement JSC::Parser<JSC::Lexer<unsigned short> >::parseStatement<JSC::SyntaxChecker>(JSC::SyntaxChecker&, JSC::Identifier const*&, unsigned int*) ()
   from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#8  0x00007f7fd9ca52b7 in JSC::SyntaxChecker::SourceElements JSC::Parser<JSC::Lexer<unsigned short> >::parseSourceElements<(JSC::SourceElementsMode)1, JSC::SyntaxChecker>(JSC::SyntaxChecker&) ()
   from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#9  0x00007f7fd9c8fb0e in JSC::SyntaxChecker::Statement JSC::Parser<JSC::Lexer<unsigned short> >::parseStatement<JSC::SyntaxChecker>(JSC::SyntaxChecker&, JSC::Identifier const*&, unsigned int*) ()
   from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#10 0x00007f7fd9c8f802 in JSC::SyntaxChecker::Statement JSC::Parser<JSC::Lexer<unsigned short> >::parseForStatement<JSC::SyntaxChecker>(JSC::SyntaxChecker&) () from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#11 0x00007f7fd9c8fce5 in JSC::SyntaxChecker::Statement JSC::Parser<JSC::Lexer<unsigned short> >::parseStatement<JSC::SyntaxChecker>(JSC::SyntaxChecker&, JSC::Identifier const*&, unsigned int*) ()
   from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#12 0x00007f7fd9c8ffcf in JSC::SyntaxChecker::SourceElements JSC::Parser<JSC::Lexer<unsigned short> >::parseSourceElements<(JSC::SourceElementsMode)0, JSC::SyntaxChecker>(JSC::SyntaxChecker&) ()
   from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#13 0x00007f7fd9ca4cb2 in bool JSC::Parser<JSC::Lexer<unsigned short> >::parseFunctionInfo<(JSC::FunctionRequirements)0, false, JSC::SyntaxChecker>(JSC::SyntaxChecker&, JSC::Identifier const*&, JSC::SyntaxChecker::FormalParameterList&, JSC::SyntaxChecker::FunctionBody&, unsigned int&, unsigned int&, int&, unsigned int&) () from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#14 0x00007f7fd9c88f18 in JSC::SyntaxChecker::Expression JSC::Parser<JSC::Lexer<unsigned short> >::parseMemberExpression<JSC::SyntaxChecker>(JSC::SyntaxChecker&) () from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#15 0x00007f7fd9c8ceba in JSC::SyntaxChecker::Expression JSC::Parser<JSC::Lexer<unsigned short> >::parseAssignmentExpression<JSC::SyntaxChecker>(JSC::SyntaxChecker&) ()
   from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#16 0x00007f7fd9c8e542 in JSC::SyntaxChecker::Statement JSC::Parser<JSC::Lexer<unsigned short> >::parseVarDeclaration<JSC::SyntaxChecker>(JSC::SyntaxChecker&) () from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#17 0x00007f7fd9c8fcd5 in JSC::SyntaxChecker::Statement JSC::Parser<JSC::Lexer<unsigned short> >::parseStatement<JSC::SyntaxChecker>(JSC::SyntaxChecker&, JSC::Identifier const*&, unsigned int*) ()
   from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#18 0x00007f7fd9c8ffcf in JSC::SyntaxChecker::SourceElements JSC::Parser<JSC::Lexer<unsigned short> >::parseSourceElements<(JSC::SourceElementsMode)0, JSC::SyntaxChecker>(JSC::SyntaxChecker&) ()
   from /usr/pkg/qt5/lib/libJavaScriptCore.so.1
#19 0x00007f7fd9c91c5d in bool JSC::Parser<JSC::Lexer<unsigned short> >::parseFunctionInfo<(JSC::FunctionRequirements)0, false, JSC::ASTBuilder>(JSC::ASTBuilder&, JSC::Identifier const*&, JSC::ASTBuilder::FormalParameterList&, JSC::ASTBuilder::FunctionBody&, unsigned int&, unsigned int&, int&, unsigned int&) () from /usr/pkg/qt5/lib/libJavaScriptCore.so.1

Could be related to not building in the first try but only the second one, with:
####### Building extension magick #######
Compiling magick
Traceback (most recent call last):
  File "setup.py", line 99, in <module>
    sys.exit(main())
  File "setup.py", line 85, in main
    command.run_all(opts)
  File "/scratch/wip/calibre/work/calibre-2.15.0/setup/__init__.py", line 181, in run_all
    self.run_cmd(self, opts)
  File "/scratch/wip/calibre/work/calibre-2.15.0/setup/__init__.py", line 178, in run_cmd
    cmd.run(opts)
  File "/scratch/wip/calibre/work/calibre-2.15.0/setup/extensions.py", line 412, in run
    self.build(ext, dest)
  File "/scratch/wip/calibre/work/calibre-2.15.0/setup/extensions.py", line 456, in build
    if not parallel_build(jobs, self.info):
  File "/scratch/wip/calibre/work/calibre-2.15.0/setup/parallel_build.py", line 32, in parallel_build
    p = Pool(cpu_count)
  File "/usr/pkg/lib/python2.7/multiprocessing/dummy/__init__.py", line 151, in Pool
    return ThreadPool(processes, initializer, initargs)
  File "/usr/pkg/lib/python2.7/multiprocessing/pool.py", line 718, in __init__
    Pool.__init__(self, processes, initializer, initargs)
  File "/usr/pkg/lib/python2.7/multiprocessing/pool.py", line 159, in __init__
    self._repopulate_pool()
  File "/usr/pkg/lib/python2.7/multiprocessing/pool.py", line 223, in _repopulate_pool
    w.start()
  File "/usr/pkg/lib/python2.7/multiprocessing/dummy/__init__.py", line 75, in start
    threading.Thread.start(self)
  File "/usr/pkg/lib/python2.7/threading.py", line 745, in start
    _start_new_thread(self.__bootstrap, ())
thread.error: can't start new thread
*** Error code 1


