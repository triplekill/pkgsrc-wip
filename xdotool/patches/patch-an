$NetBSD$

--- cmd_key.c.orig	2010-06-23 08:04:13.000000000 +0000
+++ cmd_key.c
@@ -44,7 +44,7 @@ int cmd_key(context_t *context) {
      HELP_CHAINING_ENDS;
   int option_index;
 
-  while ((c = getopt_long_only(context->argc, context->argv, "+d:hcw:",
+  while ((c = getopt_long(context->argc, context->argv, "+d:hcw:",
                                longopts, &option_index)) != -1) {
     switch (c) {
       case 'w':
