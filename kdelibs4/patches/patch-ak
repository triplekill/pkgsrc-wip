$NetBSD$

SVN commit 1028997.

--- kdecore/network/k3socketdevice.cpp.orig	2009-09-24 09:21:38.000000000 -0600
+++ kdecore/network/k3socketdevice.cpp	2009-09-24 09:23:15.000000000 -0600
@@ -352,9 +352,13 @@ bool KSocketDevice::connect(const KResol
   if (kde_connect(m_sockfd, address.address(), address.length()) == -1)
     {
       if (errno == EISCONN)
-	return true;		// we're already connected
+	{
+	  KActiveSocketBase::open(Unbuffered | mode);
+	  return true;		// we're already connected
+	}
       else if (errno == EALREADY || errno == EINPROGRESS)
 	{
+	  KActiveSocketBase::open(Unbuffered | mode);
 	  setError(InProgress);
 	  return true;
 	}
