$NetBSD$

--- coreapi/linphonecore.c.orig	2008-02-12 11:18:04.000000000 +0000
+++ coreapi/linphonecore.c
@@ -319,6 +319,7 @@ void sound_config_read(LinphoneCore *lc)
 	int ndev;
 	int i;
 #ifndef WIN32
+#ifdef __ALSA_ENABLED__
 	/*alsadev let the user use custom alsa device within linphone*/
 	devid=lp_config_get_string(lc->config,"sound","alsadev",NULL);
 	if (devid){
@@ -326,6 +327,7 @@ void sound_config_read(LinphoneCore *lc)
 		ms_snd_card_manager_add_card(ms_snd_card_manager_get(),card);
 	}
 #endif
+#endif
 	/* retrieve all sound devices */
 	elem=ms_snd_card_manager_get_list(ms_snd_card_manager_get());
 	ndev=ms_list_size(elem);
