$NetBSD$

--- ntpdc/ntpdc.c.orig	Wed Aug  6 17:57:38 2003
+++ ntpdc/ntpdc.c	Wed Aug  6 17:59:10 2003
@@ -440,7 +440,7 @@
 	hints.ai_flags = AI_NUMERICHOST;
 
 	a_info = getaddrinfo(hname, service, &hints, &ai);
-	if (a_info == EAI_NONAME) {
+	if (a_info == EAI_NONAME || a_info == EAI_NODATA) {
 		hints.ai_flags = AI_CANONNAME;
 #ifdef AI_ADDRCONFIG
 		hints.ai_flags |= AI_ADDRCONFIG;
