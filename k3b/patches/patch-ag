$NetBSD$

--- libk3bdevice/k3bdevice.cpp.orig	2009-11-21 23:35:52.000000000 +1300
+++ libk3bdevice/k3bdevice.cpp
@@ -242,9 +242,14 @@ K3b::Device::Device::Handle K3b::Device:
 
 K3b::Device::Device::Device( const Solid::Device& dev )
 {
+    Solid::GenericInterface *gi = dev.as<Solid::GenericInterface>();
+
     d = new Private;
     d->solidDevice = dev;
-    d->blockDevice = dev.as<Solid::Block>()->device();
+    if (gi->propertyExists("block.netbsd.raw_device"))
+        d->blockDevice = gi->property("block.netbsd.raw_device").toString();
+    else
+        d->blockDevice = dev.as<Solid::Block>()->device();
     d->writeModes = 0;
     d->maxWriteSpeed = 0;
     d->maxReadSpeed = 0;
