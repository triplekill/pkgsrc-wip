$NetBSD$

--- makefile.orig	2005-07-06 13:59:57.000000000 +0300
+++ makefile
@@ -2,17 +2,17 @@
 # Root directory. Mainly useful for package building; leave empty for
 # normal installation.
 #
-ROOT=
+#ROOT=
 
 #
 # The destination directory for the "sh" and "jsh" binaries.
 #
-SV3BIN=/usr/5bin
+SV3BIN=${PREFIX}/heirloom/bin
 
 #
 # Location for manual pages (with man1 below).
 #
-MANDIR=/usr/share/man/5man
+MANDIR=${PREFIX}/heirloom/man
 
 #
 # Enable this definition if spell checking should be done for the
@@ -23,12 +23,12 @@ MANDIR=/usr/share/man/5man
 #
 # A BSD-compatible install command.
 #
-UCBINST=/usr/ucb/install
+#UCBINST=install
 
 #
 # The strip command that is used at installation time.
 #
-STRIP=strip
+#STRIP=strip
 
 #
 # A command to create the link from "jsh" to "sh".
@@ -44,26 +44,26 @@ LNS=ln -s
 #
 # Compiler flags.
 #
-CFLAGS=-O
+#CFLAGS=-O
 
 #
 # Flags for the C preprocessor.
 #
-CFLAGS=-D_GNU_SOURCE
+#CFLAGS=-D_GNU_SOURCE
 
 #
 # A define for large file support, if necessary.
 #
-LARGEF=-D_FILE_OFFSET_BITS=64L
+#LARGEF=-D_FILE_OFFSET_BITS=64L
 
 #
 # The compiler warning options.
 #
-WERROR=-Werror
-WARN = -Wchar-subscripts -Wformat -Wno-format-y2k -Wimplicit \
-	-Wmissing-braces -Wsequence-point -Wreturn-type -Wtrigraphs \
-	-Wunused-function -Wunused-label -Wunused-variable -Wunused-value \
-	-Wuninitialized -Wmultichar -Wpointer-arith $(WERROR)
+#WERROR=-Werror
+#WARN = -Wchar-subscripts -Wformat -Wno-format-y2k -Wimplicit \
+#	-Wmissing-braces -Wsequence-point -Wreturn-type -Wtrigraphs \
+#	-Wunused-function -Wunused-label -Wunused-variable -Wunused-value \
+#	-Wuninitialized -Wmultichar -Wpointer-arith $(WERROR)
 WARN=
 
 #
@@ -93,7 +93,7 @@ sh.1.out: sh.1
 
 install: all
 	test -d $(ROOT)$(SV3BIN) || mkdir -p $(ROOT)$(SV3BIN)
-	$(UCBINST) -c -m 755 sh $(ROOT)$(SV3BIN)/sh
+	$(UCBINST_PROG) -c -m 755 sh $(ROOT)$(SV3BIN)/sh
 	$(STRIP) $(ROOT)$(SV3BIN)/sh
 	rm -f $(ROOT)$(SV3BIN)/jsh
 	cd $(ROOT)$(SV3BIN) && $(LNS) sh jsh
