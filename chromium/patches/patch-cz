$NetBSD$

--- native_client/src/shared/platform/linux/nacl_host_dir.c.orig	2010-10-15 08:04:56.000000000 +0000
+++ native_client/src/shared/platform/linux/nacl_host_dir.c
@@ -37,6 +37,7 @@
 #include "native_client/src/trusted/service_runtime/include/sys/mman.h"
 #include "native_client/src/trusted/service_runtime/include/sys/stat.h"
 
+#if !defined(__NetBSD__)
 #ifdef _syscall3
 _syscall3(int, getdents, uint, fd, struct dirent *, dirp, uint, count)
 
@@ -47,6 +48,7 @@ int getdents(unsigned int fd, struct dir
   return syscall(SYS_getdents, fd, dirp, count);
 }
 #endif
+#endif
 
 int NaClHostDirOpen(struct NaClHostDir  *d,
                     char                *path) {
