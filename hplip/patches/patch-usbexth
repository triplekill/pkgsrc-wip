$NetBSD$
--- io/hpiod/usbext.h.orig	2006-10-02 18:08:19.000000000 -0400
+++ io/hpiod/usbext.h
@@ -32,8 +32,7 @@
 #include <sys/time.h>
 #include <usb.h>
 
-#if (defined(__APPLE__) && defined(__MACH__)) || defined(__FreeBSD__)
-#else
+#ifdef __linux__
 #ifdef HAVE_LINUX_COMPILER_H 
 #include <linux/compiler.h>
 #endif
@@ -51,7 +50,7 @@ int usb_reap_urb_ex(usb_dev_handle *dev,
 }
 #endif
 
-#endif // ! defined(__APPLE__) && defined(__MACH__)
+#endif // __linux__
 
 #endif // _USBEXT_H
 
