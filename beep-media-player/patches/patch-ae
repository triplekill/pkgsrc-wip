$NetBSD$

--- beep/playlist_list.c.orig	Thu Nov 27 01:51:25 2003
+++ beep/playlist_list_pango_old.c	Thu Nov 27 01:57:16 2003
@@ -42,6 +42,8 @@
 #include <wchar.h>
 #endif
 #include <X11/Xatom.h>
+#include <freetype/freetype.h>
+#include <freetype/ftimage.h>
 #include <pango/pangoft2.h>
 
 PangoFontDescription *playlist_list_font = NULL;
@@ -292,6 +294,8 @@
 	int len;
 	int pix_len;
 	char *tmp;
+	guint padding, plist_length_int;
+	PangoLayout * layout;
 
 	if (cfg.convert_underscore)
 		while ((tmp = strchr(text, '_')) != NULL)
@@ -319,8 +323,6 @@
 	}
 
 
-	guint padding, plist_length_int;
-	PangoLayout * layout;
 	if (cfg.show_numbers_in_pl) {
 
 
@@ -442,12 +444,12 @@
 		{
 			int x, y;
 			gchar * tail;
-
+			guint t_width;
+			guint len_tail;
+			guint len;
 			tail = g_strdup_printf("%s%s",qstr,length);
 
 			if (strlen(tail) > max_time_len) max_time_len = strlen(tail);
-			guint t_width;
-			guint len_tail;
 	
 			/* FIXME: This is just an approximate alignment, maybe
 			        something still fast, but exact could be done */
@@ -485,7 +487,7 @@
 			else
 				gdk_gc_set_foreground(gc, get_skin_color(SKIN_PLEDIT_NORMAL));
 
-			guint len = strlen(tail);
+			len = strlen(tail);
 
 			layout = gtk_widget_create_pango_layout(GTK_WIDGET(playlistwin),tail);
 			pango_layout_set_font_description (layout, playlist_list_font); 
