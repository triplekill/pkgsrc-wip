# $NetBSD$
#

DISTNAME=		pinentry-0.7.1
CATEGORIES=		security
MASTER_SITES=		ftp://ftp.gnupg.org/gcrypt/pinentry/

MAINTAINER=		shannonjr@NetBSD.org
HOMEPAGE=		ftp://ftp.gnupg.org/gcrypt/pinentry/
COMMENT=		Applications for entering PINs or Passphrases

BUILDLINK_DEPENDS.libgpg-erro>= 1.0.0

USE_BUILDLINK3=		yes
USE_PKGLOCALEDIR=	yes
GNU_CONFIGURE=		yes
USE_GNU_TOOLS+=		make
PLIST_SRC=		${WRKDIR}/PLIST_DYNAMIC

PKG_OPTIONS_VAR=        PKG_OPTIONS.pinentry
PKG_SUPPORTED_OPTIONS=  qt gtk
.include "../../mk/bsd.options.mk"

post-install:
	${CP} -f ${PKGDIR}/PLIST ${PLIST_SRC}
.if !empty(PKG_OPTIONS:Mqt)
	${ECHO} "bin/pinentry-qt" >>${PLIST_SRC}
.endif
.if !empty(PKG_OPTIONS:Mgtk)
	${ECHO} "bin/pinentry-gtk" >>${PLIST_SRC}
.endif

.include "../../security/libksba/buildlink3.mk"
.if !empty(PKG_OPTIONS:Mqt)
.include "../../x11/qt3-libs/buildlink3.mk"
.endif
.if !empty(PKG_OPTIONS:Mgtk)
.include "../../x11/gtk/buildlink3.mk"
.endif
.include "../../mk/bsd.pkg.mk"
